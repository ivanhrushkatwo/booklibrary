{% extends "base_generic.html" %}

{% load imagefit %}

{% block content %}

    <h1>{{ author.first_name }} {{ author.last_name }}</h1>

    <div class="row">

        <div class="col s8 m4">
            <!-- Promo Content 1 goes here -->
            {% if author.image %}
                <img class="responsive-img" src="{{ author.image.url|resize:"600x380" }}" alt="">
            {% else %}
                 <img class="responsive-img" src="{{ "/media/std_image/authorexample.jpg"|resize:"600x380" }}" alt="">
            {% endif %}

        </div>

        <div class="col s8 m8">
            <!-- Promo Content 2 goes here -->


            {% if author.date_of_birth %}
        <p><strong>Date of birth:</strong> {{ author.date_of_birth }} </p>
    {% endif %}

    {% if author.date_of_death %}
        <p><strong>Date of death: </strong>{{ author.date_of_death }}
    {% endif %}

    {% if author.biography %}
        <p><strong>Biography: </strong>{{ author.biography }}</p>
    {% endif %}
        <p><strong>{{ author.rating }} </strong> people like this author</p>

    <hr>

        {% if user.is_authenticated %}
            <a class="waves-effect waves-light btn" href="{% url "like_author" author.id %}"><i class="material-icons left">thumb_up</i>Good author</a>
        {% endif %}

    </div>


    </div>

    <h3>Books</h3>
    {% if books %}

        {% for book in books %}
            <h3><a href="{{ book.get_absolute_url }}">{{ book.title }}</a></h3>
            <p><strong>Author:</strong> {{ book.author }}</p>
            <p><strong>Genre:</strong> {% for genre in book.genre.all %} {{ genre }}{% if not forloop.last %}, {% endif %}{% endfor %}</p>
            <p><strong>Description:</strong> {{ book.summary }}</p>
        {% endfor %}

    {% endif %}


{% endblock %}