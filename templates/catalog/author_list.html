{% extends "base_generic.html" %}

{% block content %}



     {% if user.is_authenticated %}
    <ul>
        <li><a href="{% url "author_create" %}">Create new author</a></li>
    </ul>
    {% endif %}

    {% if author_list %}
    <ul>

      {% for author in author_list %}


          <div class="card horizontal small">
            <div class="card-image">
                {% if author.image %}
                    <img src="{{ author.image.url }}" alt="">
                {% else %}
                    <img src="https://www.biography.com/.image/c_fit,cs_srgb,dpr_1.0,q_80,w_620/MTE5NDg0MDU0OTQ0OTc0MzUx/charles-dickens-9274087-2-raw.jpg">
                {% endif %}
            </div>

            <div class="card-stacked">

                <div class="card-content">
                    <p>Title: <a href="{{ author.get_absolute_url }}">{{ author.first_name }} {{ author.last_name }}</a></p>
                    <br>
                    {% if author.date_of_birth %}
                        <p>{{ author.date_of_birth }}</p>
                    {% endif %}

                    {% if author.date_of_death %}
                    <p>{{ author.date_of_death }}</p>
                    {% endif %}
                {% if author.biography %}
                    <p>{{ author.biography|slice:":48" }}...<a href="{{ author.get_absolute_url }}">read more</a></p>
                {% else %}
                <p>...</p>
            {% endif %}

                </div>

                <div class="card-action">
                    <a href="{{ author.get_absolute_url }}">{{ author.first_name }} {{ author.last_name }}</a>
                </div>

            </div>
        </div>



      {% endfor %}

    </ul>
    {% else %}
      <p>There are no author in the library.</p>
    {% endif %}


{% endblock %}