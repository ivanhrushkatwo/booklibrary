{% extends "base_generic.html" %}

{% load imagefit %}


{% block content %}
    {% if books %}
        <div class="col s10 m6">
            <div class="card blue-grey darken-5">
                <div class="card-content white-text">
                    <span class="card-title"><strong>Price: {{ price }}$</strong></span>
                    <p>I am a very simple card. I am good at containing small bits of information.
                    I am convenient because I require little markup to use effectively.
                    </p>
                </div>
                <div class="card-action">
                   <a class="waves-effect waves-light btn" href="#"><i class="material-icons left">shopping_cart</i>Buy this books</a>
                   <a class="right" href="{% url "clear_basket" %}">Clear basket</a>
                </div>
            </div>
        </div>

    <div class="row">
    {% for book in books %}

    <div class="col s6 m6">
        <div class="card horizontal blue-grey lighten-5">
            <div class="card-image">
                {% if book.image %}
                    <img class="responsive-img" src="{{ book.image.url|resize:"128x128" }}" alt="">
                {% else %}
                    <img class="responsive-img" src="{{ "/media/std_image/book_std_png.png"|resize:"128x128" }}">
                {% endif %}
            </div>
            <div class="card-stacked">
                <div class="card-content">
                    <p><a href="{{ book.get_absolute_url }}">{{ book.title }}</a></p>
                    <p><strong>Author:</strong> {{book.author}}</p>
                    <p><strong>Category:</strong> {{book.category }}</p>
                    <p><strong>Count:</strong> {{book.c }}</p>
                </div>
                <div class="card-action">
                    <a href="{{ book.get_absolute_url }}">{{ book.title }}</a>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}

    </div>

    {% else %}
        <div class="col s12 m7">
            <div class="card horizontal">
                <div class="card-image">
                    <img class="responsive-img" src="{{ "/media/std_image/empty_basket.png"|resize:"256x256" }}">
                </div>
                <div class="card-stacked">
                    <div class="card-content">
                        <h1 class="header">Your basket is empty</h1>
                        <p>Your basket is empty now. <br>
                            You can go to the section with <a href="{% url "books" %}">books</a>  and add them to your cart.
                        </p>
                    </div>
                    <div class="card-action">
                        <a class="waves-effect waves-light btn" href="{% url "books" %}"><i class="material-icons left">shopping_cart</i>Buy some book</a>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

{% endblock %}